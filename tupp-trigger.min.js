!function(t,e){"use strict";let a={};function r(t){let r=t.target,i="BUTTON"===r.tagName||"INPUT"===r.tagName&&"submit"===r.type,u=i?0:r.getAttribute("data-tupp-debounce-delay")||500;clearTimeout(a[r.name]),a[r.name]=setTimeout(()=>(function t(a){let r=a.getAttribute("data-tupp-chatflow-id");if(!r)return;let i=function t(a){let r=a.getAttribute("data-tupp-source-id"),n=a.getAttribute("data-tupp-source-class"),i=r?e.getElementById(r):n?e.querySelector("."+n):a;return i?i.value:null}(a);n({question:i},"https://tupp.io/api/v1/prediction/"+r).then(t=>(function t(a,r){var n,i;let u={id:a.getAttribute("data-tupp-target-id"),class:a.getAttribute("data-tupp-target-class"),action:a.getAttribute("data-tupp-target-action"),style:a.getAttribute("data-tupp-target-style")};(n=u.id,i=u.class,n?[e.getElementById(n)]:i?Array.from(e.getElementsByClassName(i)):[]).forEach(t=>{var e,a;e=t,(a=u.style)&&e&&(e.style.cssText+=a),function t(e,a,r){let n="object"==typeof a?JSON.stringify(a):a;switch(r){case"append":e.innerHTML+=n;break;case"prepend":e.innerHTML=n+e.innerHTML;break;case"replace":e.innerHTML=n}}(t,r,u.action)})})(a,t)).catch(t=>console.error("API call failed:",t))})(r),u)}async function n(t,e){try{let a=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return await i(a)}catch(r){console.error("API call failed:",r)}}async function i(t){if(t.ok){let e=await t.json();return e.text?e.text:e}console.error(`Error ${t.status}: ${t.statusText}`)}t.TuppTrigger={init:function t(){e.querySelectorAll(".tupp-trigger").forEach(t=>{var e;t.addEventListener((e=t,"SELECT"===e.tagName?"change":"BUTTON"===e.tagName||"INPUT"===e.tagName&&"submit"===e.type?"click":"input"),r)})}}}(window,document);
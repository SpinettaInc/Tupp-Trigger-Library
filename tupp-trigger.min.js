!function(t,e){"use strict";function r(t){let r=t.target,n=r.value,i=r.getAttribute("data-tupp-chatflow-id"),o=r.getAttribute("data-tupp-target-id"),c=r.getAttribute("data-tupp-target-class"),s=r.getAttribute("data-tupp-target-action"),u=r.getAttribute("data-tupp-target-style");i&&a({question:n},"https://tupp.io/api/v1/prediction/"+i).then(t=>{!function t(r,a,n,i,o){let c=function t(r,a){if(r){let n=e.getElementById(r);return n?[n]:[]}return a?Array.from(e.getElementsByClassName(a)):[]}(a,n);c.forEach(t=>{var e,a;e=t,(a=o)&&e&&(e.style.cssText+=a),function t(e,r,a){let n="object"==typeof r?JSON.stringify(r):r;switch(a){case"append":e.innerHTML+=n;break;case"prepend":e.innerHTML=n+e.innerHTML;break;case"replace":e.innerHTML=n}}(t,r,i)})}(t,o,c,s,u)}).catch(t=>console.error("API call failed:",t))}async function a(t,e){try{let r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});switch(r.status){case 200:let a=await r.json();return a.text?a.text:a;case 400:console.error("Error 400: Bad request");break;case 401:console.error("Error 401: Unauthorized");break;case 403:console.error("Error 403: Forbidden");break;case 404:console.error("Error 404: Not found");break;case 500:console.error("Error 500: Internal Server Error");break;default:console.error("Error:",r.status)}}catch(n){console.error("API call failed:",n)}}t.TuppTrigger={init:function t(){let a=e.querySelectorAll(".tupp-trigger");a.forEach(t=>{let e="INPUT"===t.tagName?"input":"change";t.addEventListener(e,r)})}}}(window,document);
